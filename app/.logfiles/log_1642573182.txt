INFO:uvicorn.error:Started server process [50268]
INFO:uvicorn.error:Waiting for application startup.
[Wed Jan 19 13:19:44 2022][INFO][main.py][line:14] - starting up
INFO:sqlalchemy.engine.Engine:SHOW VARIABLES LIKE 'sql_mode'
INFO:sqlalchemy.engine.Engine:[raw sql] ()
INFO:sqlalchemy.engine.Engine:SHOW VARIABLES LIKE 'lower_case_table_names'
INFO:sqlalchemy.engine.Engine:[generated in 0.00132s] ()
INFO:sqlalchemy.engine.Engine:SELECT DATABASE()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00072s] ('face_reco', 'user')
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.003203s ago] ('face_reco', 'client')
INFO:sqlalchemy.engine.Engine:
DROP TABLE client
INFO:sqlalchemy.engine.Engine:[no key 0.00061s] ()
INFO:sqlalchemy.engine.Engine:
DROP TABLE user
INFO:sqlalchemy.engine.Engine:[no key 0.00031s] ()
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.207s ago] ('face_reco', 'user')
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.2083s ago] ('face_reco', 'client')
INFO:sqlalchemy.engine.Engine:
CREATE TABLE user (
	id INTEGER NOT NULL AUTO_INCREMENT, 
	username VARCHAR(100) NOT NULL, 
	password VARCHAR(100) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	time_created DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)


INFO:sqlalchemy.engine.Engine:[no key 0.00030s] ()
INFO:sqlalchemy.engine.Engine:CREATE INDEX ix_user_id ON user (id)
INFO:sqlalchemy.engine.Engine:[no key 0.00090s] ()
INFO:sqlalchemy.engine.Engine:
CREATE TABLE client (
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	`key` VARCHAR(255) NOT NULL, 
	active BOOL NOT NULL, 
	`totalHit` INTEGER NOT NULL, 
	PRIMARY KEY (id)
)


INFO:sqlalchemy.engine.Engine:[no key 0.00038s] ()
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:INSERT INTO user (username, password, email, time_created) VALUES (%s, %s, %s, %s)
INFO:sqlalchemy.engine.Engine:[generated in 0.06094s] ('joy', '$2b$12$81BVmiTZHO.UqWEgzUKvdeD2CClimoq.eoyiGDyIv/KkOjOh4Yz3m', 'joy@gmail.com', datetime.datetime(2022, 1, 19, 13, 19, 43, 424))
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT user.id, user.username, user.password, user.email, user.time_created 
FROM user 
WHERE user.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00040s] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:INSERT INTO client (name, `key`, active, `totalHit`) VALUES (%s, %s, %s, %s)
INFO:sqlalchemy.engine.Engine:[generated in 0.00051s] ('MNC-DSM', '$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW', 1, 0)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00041s] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:uvicorn.error:Application startup complete.
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00064s] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.01031s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
[Wed Jan 19 13:19:49 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00067s] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00055s] (1, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.33s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.321s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.336s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
[Wed Jan 19 13:19:53 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.335s ago] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.339s ago] (2, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 8.676s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.914s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.94s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
[Wed Jan 19 13:19:54 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.936s ago] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 4.936s ago] (3, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 9.274s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 5.597s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 5.615s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
[Wed Jan 19 13:19:55 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 5.617s ago] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 5.623s ago] (4, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 9.971s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:uvicorn.error:Shutting down
INFO:uvicorn.error:Waiting for application shutdown.
[Wed Jan 19 13:20:54 2022][INFO][main.py][line:20] - shutting down
INFO:uvicorn.error:Application shutdown complete.
INFO:uvicorn.error:Finished server process [50268]
