INFO:uvicorn.error:Started server process [51823]
INFO:uvicorn.error:Waiting for application startup.
[Wed Jan 19 13:24:50 2022][INFO][main.py][line:14] - starting up
INFO:sqlalchemy.engine.Engine:SHOW VARIABLES LIKE 'sql_mode'
INFO:sqlalchemy.engine.Engine:[raw sql] ()
INFO:sqlalchemy.engine.Engine:SHOW VARIABLES LIKE 'lower_case_table_names'
INFO:sqlalchemy.engine.Engine:[generated in 0.00025s] ()
INFO:sqlalchemy.engine.Engine:SELECT DATABASE()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00035s] ('face_reco', 'user')
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.002018s ago] ('face_reco', 'client')
INFO:sqlalchemy.engine.Engine:
DROP TABLE client
INFO:sqlalchemy.engine.Engine:[no key 0.00041s] ()
INFO:sqlalchemy.engine.Engine:
DROP TABLE user
INFO:sqlalchemy.engine.Engine:[no key 0.00049s] ()
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.2291s ago] ('face_reco', 'user')
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = %s AND table_name = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.2355s ago] ('face_reco', 'client')
INFO:sqlalchemy.engine.Engine:
CREATE TABLE user (
	id INTEGER NOT NULL AUTO_INCREMENT, 
	username VARCHAR(100) NOT NULL, 
	password VARCHAR(100) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	time_created DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)


INFO:sqlalchemy.engine.Engine:[no key 0.02171s] ()
INFO:sqlalchemy.engine.Engine:CREATE INDEX ix_user_id ON user (id)
INFO:sqlalchemy.engine.Engine:[no key 0.00029s] ()
INFO:sqlalchemy.engine.Engine:
CREATE TABLE client (
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	`key` VARCHAR(255) NOT NULL, 
	active BOOL NOT NULL, 
	`totalHit` INTEGER, 
	PRIMARY KEY (id)
)


INFO:sqlalchemy.engine.Engine:[no key 0.00056s] ()
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:INSERT INTO user (username, password, email, time_created) VALUES (%s, %s, %s, %s)
INFO:sqlalchemy.engine.Engine:[generated in 0.05472s] ('joy', '$2b$12$81BVmiTZHO.UqWEgzUKvdeD2CClimoq.eoyiGDyIv/KkOjOh4Yz3m', 'joy@gmail.com', datetime.datetime(2022, 1, 19, 13, 24, 48, 541571))
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT user.id, user.username, user.password, user.email, user.time_created 
FROM user 
WHERE user.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00101s] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:INSERT INTO client (name, `key`, active, `totalHit`) VALUES (%s, %s, %s, %s)
INFO:sqlalchemy.engine.Engine:[generated in 0.00048s] ('MNC-DSM', '$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW', 1, 0)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00178s] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:uvicorn.error:Application startup complete.
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00054s] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 0.008488s ago] ('$2b$12$x/LYvtDA/pz4IZN4zGXVtuetifXJflyaMYCIvimsEWJOExVQHL8XW',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 19.02s ago] ('$2b$12$vCxlLTAnS27L4H3UAESYX.dPLt3nB4Mne5UL6OnGgpalBCgof6cKq',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 19.04s ago] ('$2b$12$vCxlLTAnS27L4H3UAESYX.dPLt3nB4Mne5UL6OnGgpalBCgof6cKq',)
[Wed Jan 19 13:26:12 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00310s] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[generated in 0.00141s] (101, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 81.09s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 22.32s ago] ('$2b$12$vCxlLTAnS27L4H3UAESYX.dPLt3nB4Mne5UL6OnGgpalBCgof6cKq',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 22.33s ago] ('$2b$12$vCxlLTAnS27L4H3UAESYX.dPLt3nB4Mne5UL6OnGgpalBCgof6cKq',)
[Wed Jan 19 13:26:15 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 3.279s ago] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 3.273s ago] (102, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 84.36s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 22.82s ago] ('$2b$12$vCxlLTAnS27L4H3UAESYX.dPLt3nB4Mne5UL6OnGgpalBCgof6cKq',)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.`key` = %s
INFO:sqlalchemy.engine.Engine:[cached since 22.83s ago] ('$2b$12$vCxlLTAnS27L4H3UAESYX.dPLt3nB4Mne5UL6OnGgpalBCgof6cKq',)
[Wed Jan 19 13:26:16 2022][INFO][utils.py][line:353] - client-update
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 3.78s ago] (1,)
INFO:sqlalchemy.engine.Engine:UPDATE client SET `totalHit`=%s WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 3.772s ago] (103, 1)
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:SELECT client.id, client.name, client.`key`, client.active, client.`totalHit` 
FROM client 
WHERE client.id = %s
INFO:sqlalchemy.engine.Engine:[cached since 84.86s ago] (1,)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:uvicorn.error:Shutting down
INFO:uvicorn.error:Waiting for application shutdown.
[Wed Jan 19 13:26:20 2022][INFO][main.py][line:20] - shutting down
INFO:uvicorn.error:Application shutdown complete.
INFO:uvicorn.error:Finished server process [51823]
